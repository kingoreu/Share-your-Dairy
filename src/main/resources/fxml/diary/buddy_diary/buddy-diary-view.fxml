<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.share.dairy.controller.BuddyDiaryController"
            prefWidth="700" prefHeight="560"
            style="-fx-background-color: transparent;">

    <HBox spacing="12"
          AnchorPane.topAnchor="0"
          AnchorPane.leftAnchor="0"
          AnchorPane.rightAnchor="0"
          AnchorPane.bottomAnchor="0">

        <!-- 좌측: 친구 리스트 (폭 고정) -->
        <StackPane prefWidth="240" minWidth="240" maxWidth="240"
                   style="-fx-background-color:#E9CFE5; -fx-background-radius:16; -fx-padding:10;"
                   VBox.vgrow="ALWAYS">
            <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                        style="-fx-background-color: transparent;"
                        maxHeight="Infinity" VBox.vgrow="ALWAYS">
                <content>
                    <VBox fx:id="buddyList" spacing="10" style="-fx-padding:6;"
                          maxHeight="Infinity" VBox.vgrow="ALWAYS"/>
                </content>
            </ScrollPane>
        </StackPane>

        <!-- 우측: 2×2 프리뷰 그리드 (세로 스크롤 복구) -->
        <ScrollPane fitToWidth="true" fitToHeight="false"
                    hbarPolicy="NEVER" vbarPolicy="ALWAYS"
                    style="-fx-background-color: transparent;"
                    HBox.hgrow="ALWAYS">
            <content>
                <AnchorPane style="-fx-background-color:#F3EFF2; -fx-background-radius:12;">
                    <children>
                        <GridPane fx:id="entriesGrid"
                                  hgap="24" vgap="24" alignment="TOP_CENTER"
                                  AnchorPane.topAnchor="18" AnchorPane.leftAnchor="18" AnchorPane.rightAnchor="18">
                                  <!-- ⬆️ bottomAnchor 제거: 콘텐츠 높이를 뷰포트에 고정하지 않음 -->

                            <!-- 가로 50% / 50% -->
                            <columnConstraints>
                                <ColumnConstraints percentWidth="50" hgrow="ALWAYS" fillWidth="true" halignment="CENTER"/>
                                <ColumnConstraints percentWidth="50" hgrow="ALWAYS" fillWidth="true" halignment="CENTER"/>
                            </columnConstraints>

                            <!-- 세로 50% / 50% -->
                            <rowConstraints>
                                <RowConstraints percentHeight="50" vgrow="ALWAYS" minHeight="220" valignment="TOP"/>
                                <RowConstraints percentHeight="50" vgrow="ALWAYS" minHeight="220" valignment="TOP"/>
                            </rowConstraints>

                            <!-- Cell 1 -->
                            <VBox spacing="8"
                                  GridPane.columnIndex="0" GridPane.rowIndex="0"
                                  GridPane.hgrow="ALWAYS" GridPane.vgrow="ALWAYS">
                                <Label fx:id="date1"
                                       style="-fx-font-size:14; -fx-text-fill:#4a4a4a; -fx-padding:0 0 6 4;"/>
                                <StackPane fx:id="buddyCard1"
                                           minWidth="200" minHeight="220"
                                           maxWidth="Infinity" maxHeight="Infinity"
                                           style="-fx-background-color:white; -fx-background-radius:16; -fx-padding:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0.2, 0, 2);"/>
                            </VBox>

                            <!-- Cell 2 -->
                            <VBox spacing="8"
                                  GridPane.columnIndex="1" GridPane.rowIndex="0"
                                  GridPane.hgrow="ALWAYS" GridPane.vgrow="ALWAYS">
                                <Label fx:id="date2"
                                       style="-fx-font-size:14; -fx-text-fill:#4a4a4a; -fx-padding:0 0 6 4;"/>
                                <StackPane fx:id="buddyCard2"
                                           minWidth="200" minHeight="220"
                                           maxWidth="Infinity" maxHeight="Infinity"
                                           style="-fx-background-color:white; -fx-background-radius:16; -fx-padding:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0.2, 0, 2);"/>
                            </VBox>

                            <!-- Cell 3 -->
                            <VBox spacing="8"
                                  GridPane.columnIndex="0" GridPane.rowIndex="1"
                                  GridPane.hgrow="ALWAYS" GridPane.vgrow="ALWAYS">
                                <Label fx:id="date3"
                                       style="-fx-font-size:14; -fx-text-fill:#4a4a4a; -fx-padding:0 0 6 4;"/>
                                <StackPane fx:id="buddyCard3"
                                           minWidth="200" minHeight="220"
                                           maxWidth="Infinity" maxHeight="Infinity"
                                           style="-fx-background-color:white; -fx-background-radius:16; -fx-padding:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0.2, 0, 2);"/>
                            </VBox>

                            <!-- Cell 4 -->
                            <VBox spacing="8"
                                  GridPane.columnIndex="1" GridPane.rowIndex="1"
                                  GridPane.hgrow="ALWAYS" GridPane.vgrow="ALWAYS">
                                <Label fx:id="date4"
                                       style="-fx-font-size:14; -fx-text-fill:#4a4a4a; -fx-padding:0 0 6 4;"/>
                                <StackPane fx:id="buddyCard4"
                                           minWidth="200" minHeight="220"
                                           maxWidth="Infinity" maxHeight="Infinity"
                                           style="-fx-background-color:white; -fx-background-radius:16; -fx-padding:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0.2, 0, 2);"/>
                            </VBox>

                        </GridPane>
                    </children>
                </AnchorPane>
            </content>
        </ScrollPane>
    </HBox>
</AnchorPane>
